function download(e,t,d,n){n.classList.add("success");let a=document.createElement("a"),l=new Blob([e],{type:d});a.href=URL.createObjectURL(l),a.download=t,a.click(),setTimeout(function(){n.classList.remove("success")},750)}function copy(e,t){t.classList.remove("success","failure"),e.select(),navigator.clipboard.writeText(e.value).then(function(){t.classList.add("success")},function(){t.classList.add("failure")}),setTimeout(function(){t.classList.remove("success","failure")},750)}let inflated=document.querySelector("inflated>textarea"),deflated=document.querySelector("deflated>textarea"),infCopy=document.querySelector("inflated .copy"),defCopy=document.querySelector("deflated .copy"),infDown=document.querySelector("inflated .download"),defDown=document.querySelector("deflated .download");inflated.value="",deflated.value="",inflated.addEventListener("input",function(){if(""===inflated.value)return void(deflated.value="");let e=pako.deflate(inflated.value,{level:9});deflated.value=e}),deflated.addEventListener("input",function(){if(""===deflated.value)return void(inflated.value="");let e=pako.inflate(JSON.parse("["+deflated.value+"]"));inflated.value=(new TextDecoder).decode(e)}),infCopy.addEventListener("click",function(){copy(inflated,infCopy)}),defCopy.addEventListener("click",function(){copy(deflated,defCopy)}),infDown.addEventListener("click",function(){download(inflated.value,"Decompressed.txt","text/plain",infDown)}),defDown.addEventListener("click",function(){download(deflated.value,"Compressed.txt","text/plain",defDown)});